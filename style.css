:root{
  --slot-w:400px;
  --slot-h:300px;
  --side-gap-slots:0.5;
  --top-safe:90px;
  --ground-ratio:0.22;
}

/* RESET */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
  background:#0b0d10;
  color:#eaeef2;
  overflow-x:hidden;
}

/* TOP UI (прозорий, без смуги) */
.top-ui{
  position:fixed; inset:0 0 auto 0; height:56px;
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; z-index:1000;
  background:transparent;
  backdrop-filter:none;
  border-bottom:none;
}
.logo{font-weight:800; letter-spacing:.6px; text-shadow:0 1px 0 rgba(0,0,0,.25)}
.top-right{display:flex; gap:10px; align-items:center}
.icon-btn{
  width:34px; height:34px; border-radius:10px; border:1px solid rgba(255,255,255,.15);
  background:rgba(255,255,255,.05); color:#fff; cursor:pointer; font-size:16px;
}
.connect-btn{
  background:linear-gradient(90deg,#ffaf00,#ff7a00);
  color:#1a0a00; border:none; border-radius:12px; padding:8px 14px; font-weight:800; cursor:pointer;
}

/* SCENE */
#scene{
  position:relative;
  width:100%;
  min-height:100vh;
  margin-top:56px;
  background:url("img/background1.png") no-repeat center bottom;
  background-size:cover;
  overflow:visible;
}

/* LAYERS */
#slots{ position:absolute; inset:0; z-index:2; pointer-events:auto; }
#placed{ position:absolute; inset:0; z-index:3; pointer-events:none; }

/* SLOT */
.slot{
  position:absolute; width:var(--slot-w); height:var(--slot-h);
  border:2px dashed rgba(255,255,255,.35);
  background:rgba(255,255,255,.08);
  display:flex; align-items:center; justify-content:center;
  cursor:pointer; border-radius:10px; pointer-events:auto;
  transition:transform .06s ease, background .12s ease;
}
.slot:hover{ transform:translateY(-1px); background:rgba(255,255,255,.12); }
.slot::after{content:"+"; font-size:28px; color:#fff;}

/* TILE */
.tile-wrap{
  position:absolute; width:var(--slot-w); height:var(--slot-h);
  border-radius:10px; overflow:hidden;
  box-shadow:0 6px 16px rgba(0,0,0,.45);
  transition:transform .08s ease, box-shadow .12s ease;
  pointer-events:auto;
}
.tile-wrap:hover{ transform:translateY(-2px); }
.tile-img{ width:100%; height:100%; object-fit:cover; display:block; }
.tile-badge{
  position:absolute; left:8px; bottom:6px; padding:2px 6px;
  background:rgba(0,0,0,.55); color:#fff; font-size:12px; border-radius:8px;
}

/* VERTICAL FARM BAR (праворуч по центру) */
.farm-bar{
  position:fixed; right:14px; top:50%; transform:translateY(-50%);
  width:86px; height:62vh; min-height:420px;
  z-index:1001;
  background:rgba(0,0,0,.65);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px; padding:10px;
  display:flex; flex-direction:column; align-items:center; gap:10px;
  backdrop-filter:blur(6px);
}
.farm-bar__label{font-weight:800; opacity:.9}
.farm-bar__progress{
  flex:1 1 auto; width:12px; background:rgba(255,255,255,.12);
  border-radius:999px; overflow:hidden; position:relative;
}
.farm-bar__progress-in{
  position:absolute; left:0; bottom:0; width:100%; height:0%;
  background:linear-gradient(180deg,#00ffd0,#00c3ff);
  transition:height .3s ease;
}
.farm-bar__value{font-weight:800}
.farm-bar__chips{display:flex; flex-direction:column; gap:6px; width:100%}
.chip{font-size:10px; padding:3px 6px; border-radius:999px; background:rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.14); text-align:center}
.claim-btn{width:100%; padding:8px 10px; border-radius:10px; border:none; color:#051015; font-weight:800; background:#00ffd0; cursor:pointer}
.claim-btn:disabled{opacity:.45; cursor:not-allowed}

/* MODALS */
.modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:2000; }
.modal[aria-hidden="false"]{ display:flex; }
.modal::before{ content:""; position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter:blur(4px); }
.modal__dialog{
  position:relative; z-index:1; width:min(880px,92vw); max-height:86vh; overflow:auto;
  background:#0c1014; border:1px solid rgba(255,255,255,.12); border-radius:16px; padding:16px;
}
.modal__dialog.small{ width:min(620px,92vw); }
.modal__close{ position:absolute; right:10px; top:8px; border:none; background:transparent; color:#fff; font-size:22px; cursor:pointer }
.modal__title{ margin:0 0 10px; }

/* INFO BOX */
.info-box{ display:grid; grid-template-columns:280px 1fr; gap:14px; }
.info-box__preview{ position:relative; }
.info-box__preview img{ width:100%; border-radius:12px; display:block; }
.info-rarity{ position:absolute; left:10px; top:10px; background:rgba(0,0,0,.6); padding:3px 8px; border-radius:999px; font-size:12px }
.info-number{ position:absolute; right:10px; top:10px; background:rgba(255,255,255,.18); padding:3px 8px; border-radius:6px; font-weight:800; font-size:12px }
.info-box__meta .kv{ display:flex; align-items:center; gap:10px; margin:4px 0 }
.info-box__meta .kv span{ opacity:.7; width:90px }
.subt{ margin-top:6px; opacity:.85; font-weight:700 }
.bullet{ margin:6px 0 10px 16px }
.info-actions{ display:flex; gap:8px; flex-wrap:wrap }
.info-actions button{ padding:8px 12px; border-radius:10px; border:1px solid rgba(255,255,255,.15); background:#151a21; color:#fff; cursor:pointer }
.info-actions .danger{ background:#ff3355; border-color:#ff3355 }

/* PICKER */
.picker-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:10px; }
.picker-card{
  background:#10151b; border:1px solid rgba(255,255,255,.12); border-radius:12px; overflow:hidden;
  display:flex; flex-direction:column; gap:8px;
}
.picker-card img{ width:100%; aspect-ratio:4/3; object-fit:cover; display:block }
.picker-card .meta{ padding:8px; display:flex; align-items:center; justify-content:space-between; gap:6px }
.picker-card .title{ font-size:13px; font-weight:700 }
.picker-card button{ border:none; background:#00ffd0; color:#041218; font-weight:800; border-radius:10px; padding:6px 8px; cursor:pointer }
