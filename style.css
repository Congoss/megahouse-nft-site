:root{
  --bg:#0b0d10; --text:#eaeef2; --muted:#c9d1d9;

  /* твої кольори */
  --near-pill:#FFD180;
  --n-pill:#FFB47F;
  --farm-fill:#546A63;

  --card-stroke:rgba(0,0,0,.25);
  --pill-shadow:0 6px 14px rgba(0,0,0,.28);

  --slot-w:700px; --slot-h:300px; --side-gap-slots:0.5;
  --top-safe:90px; --ground-ratio:0.22; --ground-fudge:8px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text);overflow-x:hidden}

/* top */
.top-ui{
  position:fixed;inset:0 0 auto 0;height:56px;display:flex;
  align-items:center;justify-content:space-between;padding:10px 12px;
  z-index:1000;background:transparent
}
.logo{font-weight:900;letter-spacing:.8px;text-shadow:0 1px 0 rgba(0,0,0,.25)}
.top-center{display:flex;gap:12px;align-items:center}
.top-right{display:flex;gap:10px;align-items:center}

/* пігулки */
.wallet-cards{display:flex;gap:10px}
.wallet-card{
  height:36px; min-width:170px; display:flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:999px;
  border:2px solid var(--card-stroke); box-shadow:var(--pill-shadow);
  color:#1a1208; background:#eee;
}
#card-near{ background:var(--near-pill); }
#card-n{ background:var(--n-pill); }
.wc-icon{width:26px;height:26px;display:grid;place-items:center;color:rgba(0,0,0,.6)}
.wc-text{display:flex;flex-direction:column;line-height:1.05}
.wc-label{font-size:11px;opacity:.75}
.wc-value{font-weight:900}

/* === Farm pill (оновлено) === */
.farm-top{
  height:36px;
  display:flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:999px;
  border:2px solid var(--card-stroke);
  background:var(--n-pill);            /* фон як у N token */
  box-shadow:var(--pill-shadow);
}
.farm-top__label{font-weight:800;opacity:.9}
.farm-top__bar{
  width:clamp(120px, 18vw, 220px);     /* компактний бар */
  height:10px; border-radius:999px;
  background:rgba(0,0,0,.18);
  overflow:hidden; position:relative;
}
.farm-top__fill{
  position:absolute; inset:0 auto 0 0; width:0%;
  background:var(--farm-fill);         /* #546A63 */
  transition:width .3s ease;
}
.farm-top__amount{
  font-weight:900; min-width:64px; text-align:right;
  color:#111;                           /* чорний текст */
}
.farm-top__claim{
  border:2px solid var(--card-stroke);
  border-radius:999px;
  padding:6px 12px;
  background:var(--near-pill);          /* як NEAR */
  color:#1a1208;
  font-weight:800; cursor:pointer;
  box-shadow:var(--pill-shadow);
}
.farm-top__claim:disabled{opacity:.45;cursor:not-allowed}
.farm-top__chips{display:none;position:absolute;transform:translateY(42px);background:rgba(0,0,0,.7);border:1px solid rgba(255,255,255,.12);backdrop-filter:blur(6px);padding:6px;border-radius:10px;gap:6px;white-space:nowrap}
.farm-top:hover .farm-top__chips{display:flex}
.chip{font-size:10px;padding:3px 6px;border-radius:999px;background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.12)}

/* кнопки справа — пігулки */
.icon-btn,.connect-btn{
  height:34px; min-width:34px; padding:6px 12px;
  border-radius:999px; border:2px solid var(--card-stroke);
  background:var(--n-pill); color:#1a1208; cursor:pointer; font-weight:800;
  box-shadow:var(--pill-shadow)
}
.icon-btn{width:auto}
.connect-btn{white-space:nowrap}

/* scene */
#scene{
  position:relative;width:100%;min-height:100vh;
  padding-top:56px; /* прибирає чорну смугу під хедером */
  background:url("img/background1.png") no-repeat center bottom;
  background-size:cover; overflow:visible;
}
#slots{position:absolute;inset:0;z-index:2;pointer-events:auto}
#placed{position:absolute;inset:0;z-index:3;pointer-events:none}

/* slots / tiles */
.slot{
  position:absolute;width:var(--slot-w);height:var(--slot-h);
  border:2px dashed rgba(255,255,255,.35);background:rgba(255,255,255,.08);
  display:flex;align-items:center;justify-content:center;cursor:pointer;
  border-radius:12px;pointer-events:auto;transition:transform .06s ease,background .12s ease
}
.slot:hover{transform:translateY(-1px);background:rgba(255,255,255,.12)}
.slot::after{content:"+";font-size:28px;color:#fff}

.tile-wrap{
  position:absolute;width:var(--slot-w);height:var(--slot-h);border-radius:0px;
  overflow:hidden;box-shadow:0 6px 16px rgba(0,0,0,.45);
  transition:transform .08s ease,box-shadow .12s ease;pointer-events:auto
}
.tile-wrap:hover{transform:translateY(-2px)}
.tile-img{width:100%;height:100%;object-fit:cover;display:block;border-radius:0}
.tile-badge{position:absolute;left:8px;bottom:6px;padding:4px 8px;background:rgba(0,0,0,.55);color:#fff;font-size:12px;border-radius:10px}

/* modals / picker */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;z-index:2000}
.modal[aria-hidden="false"]{display:flex}
.modal::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.55);backdrop-filter:blur(4px)}
.modal__dialog{position:relative;z-index:1;width:min(880px,92vw);max-height:86vh;overflow:auto;background:#0c1014;border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px}
.modal__dialog.small{width:min(620px,92vw)}
.modal__close{position:absolute;right:10px;top:8px;border:none;background:transparent;color:#fff;font-size:22px;cursor:pointer}
.modal__title{margin:0 0 10px}
.info-box{display:grid;grid-template-columns:280px 1fr;gap:14px}
.info-box__preview{position:relative}
.info-box__preview img{width:100%;border-radius:12px;display:block}
.info-rarity{position:absolute;left:10px;top:10px;background:rgba(0,0,0,.6);padding:3px 8px;border-radius:999px;font-size:12px}
.info-number{position:absolute;right:10px;top:10px;background:rgba(255,255,255,.18);padding:3px 8px;border-radius:6px;font-weight:800;font-size:12px}
.info-box__meta .kv{display:flex;align-items:center;gap:10px;margin:4px 0}
.info-box__meta .kv span{opacity:.7;width:90px}
.subt{margin-top:6px;opacity:.85;font-weight:700}
.bullet{margin:6px 0 10px 16px}
.info-actions{display:flex;gap:8px;flex-wrap:wrap}
.info-actions button{padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.15);background:#151a21;color:#fff;cursor:pointer}
.info-actions .danger{background:#ff3355;border-color:#ff3355}

.picker-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.picker-card{background:#10151b;border:1px solid rgba(255,255,255,.12);border-radius:12px;overflow:hidden;display:flex;flex-direction:column;gap:8px}
.picker-card img{width:100%;aspect-ratio:4/3;object-fit:cover;display:block}
.picker-card .meta{padding:8px;display:flex;align-items:center;justify-content:space-between;gap:6px}
.picker-card .title{font-size:13px;font-weight:700}
.picker-card button{border:none;background:var(--n-pill);color:#1a1208;font-weight:800;border-radius:10px;padding:6px 8px;cursor:pointer}
